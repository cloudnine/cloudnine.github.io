var playerUrl=window.location.protocol+"//"+window.location.host+"/playlists/";function init(){$("#vimeoSelector").click(c9vimeoPlayer),$("#youtubeSelector").click(c9youtubePlayer),c9youtubePlayer(),c9vimeoPlayer()}$(init);var bucket=[];function c9youtubePlayer(){$.getJSON(playerUrl+jsonPlaylists,function(t){if(void 0!==bucket&&bucket.length)bucket.length&&(i=Math.floor(Math.random()*bucket.length),shuffle=bucket.splice(i,1)[0]);else{for(var e=0;e<=Object.keys(t.playlists).length-1;e++)bucket.push(e);var i=Math.floor(Math.random()*bucket.length);shuffle=bucket.splice(i,1)[0]}var s={};s.ids=Array.from(t.playlists[shuffle].ids),s.playlist=t.playlists[shuffle].name,s.description=t.playlists[shuffle].description;for(e=s.ids.length-1;0<e;e--){var a=Math.floor(Math.random()*(e+1)),o=s.ids[e];s.ids[e]=s.ids[a],s.ids[a]=o}for(var r='<div class="mobile-iframe"><iframe width="360" height="180" src="https://www.youtube-nocookie.com/embed/VIDEO_ID?playlist=',e=0;e<s.ids.length;e++)r+=s.ids,e+1<s.ids.length&&(r+=", ");r+=';rel=0;modestbranding=1;iv_load_policy=3;showinfo=0" frameborder="0" loading="lazy" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"allowfullscreen></iframe></div> \x3c!-- end mobile-iframe --\x3e<h6>'+s.description+"</h6>",$("#youtubeVids").html(r)})}var bucket2=[];function c9vimeoPlayer(){$.getJSON(playerUrl+jsonVimeo,function(t){for(var e=0;e<=Object.keys(t.playlists).length-1;e++)bucket2.push(e);var i=Math.floor(Math.random()*bucket2.length);shuffle=bucket2[i];var s={};s.ids=Array.from(t.playlists[shuffle].ids),s.playlist=t.playlists[shuffle].name,s.description=t.playlists[shuffle].description;for(e=s.ids.length-1;0<e;e--){var a=Math.floor(Math.random()*(e+1)),o=s.ids[e];s.ids[e]=s.ids[a],s.ids[a]=o}let r=[];for(e=0;e<=s.ids.length-1;e++)r.push(e);i=Math.floor(Math.random()*r.length);s.song=s.ids[i];i='<div class="mobile-iframe"><iframe src="https://player.vimeo.com/video/'+s.song+'" style="width:100%;height:100%;" loading="lazy" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe></div><script src="https://player.vimeo.com/api/player.js"><\/script></div><h6>'+s.description+"</h6>";$("#vimeoVids").html(i)})}function randomVimeos3(){var t=Math.floor(50*Math.random()+1),e=window.location.protocol+"//"+window.location.host+"/playlists/";$("#vimeoVids").hide(1,function(){$("#vimeoVids").load(e+"vids.html #"+t)}),$("#vimeoVids").show(1)}function randomYoutubes(){var t=Math.floor(3*Math.random()+1),e=window.location.protocol+"//"+window.location.host+"/playlists/";$("#youtubeVids").hide(1,function(){$("#youtubeVids").load(e+"playlists.html #"+t)}),$("#youtubeVids").show(1)}"use strict";var searchFn=function(){function c(t){return i.innerHTML=t," "+i.value.trim().toLowerCase().replace(/[^0-9a-z ]/gi," ").replace(/\s+/g," ")+" "}function o(t,i,s){var a=0;return t.forEach(function(t){if(~s.indexOf(t.term))for(var e=s.indexOf(t.term);~e;)a+=t.weight*i,e=s.indexOf(t.term,e+1)}),a}function d(s){var t,a=[];r.index.forEach(function(e){var i;e.tags&&(i=0,s.forEach(function(t){e.title.startsWith(t.term)&&(i+=32*t.weight)}),i+=o(s,1,e.content),i+=o(s,2,e.description),i+=o(s,2,e.subtitle),e.tags.forEach(function(t){i+=o(s,4,t)}),(i+=o(s,16,e.title))&&a.push({weight:i,item:e}))}),a.length?(t=a.length+" items found.",30<a.length&&(t+=" Showing first 30 results."),$("#results").html('<p class="p-news" id="results-message">'+t+"</p>"),function(t){t.sort(function(t,e){return e.weight-t.weight});for(var e=0;e<t.length&&e<30;e+=1){var i=t[e].item,s='<article class="post post-search-grid"><a class="title post-meta-styling post-search-image" href="'+i.permalink+'#article-title"alt="'+i.showTitle+'"><img src="'+i.showImage+'" alt="'+i.showTitle+'" class="search-img"></a><a  class="title post-meta-styling post-search-title" href="'+i.permalink+'#article-title"><div><h2>'+i.showTitle+'</h2></div></a><div class="ml-2 mb-2 mt-1 post-search-meta"><small><strong>Author:'+i.showAuthor+'</strong>&nbsp;|&nbsp;<i class="far fa-calendar-alt"></i>&nbsp;'+i.showDate;void 0!==i.showUpdate&&null!==i.showUpdate&&(s+='&nbsp;|&nbsp;<span class="update">Updated:&nbsp;</span>&nbsp;'+i.showUpdate),s+='</small></div><div class="post-search-summary">'+i.showSummary+'</div><a  class="post-search-continue"  href="'+i.permalink+'" role ="button">Continue Reading...</a><div class="post-search-data"></div></article>',$("#results").append(s)}}(a)):$("#results").html('<p class="p-news" id="results-message">No items found.</p>')}function e(){if(!u){var t=c($("#searchBox").val()).trim();if(t!==m){if((m=t).length<2)return $("#results").html('<p class="p-news" id="results-message">No items found.</p>'),$("#btnGo").attr("disabled",!0),0;$("#btnGo").removeAttr("disabled"),u=!0;var e=new Date;$("#results").html('<p class="p-news" id="results-message">Processing search...</p>');for(var i=t.split(" "),s=[],a=0;a<i.length;a+=1)for(var o=a;o<i.length;o+=1){for(var r=Math.pow(2,o-a),l="",n=a;n<=o;n+=1)l+=i[n]+" ";var h=l.trim();2<=h.length&&p.indexOf(h)<0&&s.push({weight:r,term:" "+l.trim()+" "})}d(s),u=!1;t=new Date;$("#results").append('<p class="p-news" id="results-message"><small>Search took '+(t-e)+"ms.</small></p>")}}}var m="You are likely to be eaten by a grue.",p=["i","me","my","we","our","you","it","its","this","that","am","is","are","was","be","has","had","do","a","an","the","but","if","or","as","of","at","by","for","with","to","then","no","not","so","too","can","and","but"],i=document.createElement("textarea"),u=!1;$("#searchBox").hide(),$("#btnGo").hide();var r={};$.getJSON("/index.json",function(t){r.index=[];var s={};t.forEach(function(t){var e,i;t.tags&&!s[t.permalink]&&((e={}).showTitle=t.title,e.showDescription=t.description,e.showDate=t.date,e.showSummary=t.summary,e.showAuthor=t.author,e.showUpdate=t.update,e.showImage=t.image,e.title=c(t.title),e.subtitle=c(t.subtitle),e.description=c(t.description),e.content=c(t.summary),i=[],t.tags.forEach(function(t){return i.push(c(t))}),e.tags=i,e.permalink=t.permalink,r.index.push(e),s[t.permalink]=!0)}),$("#loading").hide(),$("#btnGo").show(),$("#searchBox").show().removeAttr("disabled").focus(),$("#searchBox").keyup(function(){e()}),$("#btnGo").click(function(){e();var t=window.location.href.split("#")[0];t+="#resultsArea",window.location.href=t}),e()})};function MediumLightbox(t,e){var c,d,m,p;function i(){var t=window,e=document,i=e.documentElement,s=e.getElementsByTagName("body")[0],e=t.innerWidth||i.clientWidth||s.clientWidth,s=t.innerHeight||i.clientHeight||s.clientHeight;d.x=e,d.y=s}function s(){var t,e,i,s,a,o,r,l,n,h;this.isZoomed?(this.isZoomed=!this.isZoomed,c=null,this.img.style.cssText="",this.wrapper.style.cssText="",this.overlay.className="zoomOverlay",h=this,setTimeout(function(){h.children[0].appendChild(h.img),h.children[0].removeChild(h.wrapper);var t="zoomImg";h.img.classList?h.img.classList.remove(t):h.img.className=h.img.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},300)):(this.isZoomed=!this.isZoomed,(c=this).img||(this.img=this.getElementsByTagName("img")[0]),t=this.img.getBoundingClientRect().height,e=this.img.getBoundingClientRect().width,i=this.img.getBoundingClientRect().left,s=this.img.getBoundingClientRect().top,o=this.img.dataset?(a=this.img.dataset.width,this.img.dataset.height):(a=this.img.getAttribute("data-width"),this.img.getAttribute("data-height")),this.img.classList?this.img.classList.add("zoomImg"):this.img.className+=" zoomImg",this.overlay=document.createElement("div"),this.overlay.id="the-overlay",this.overlay.className="zoomOverlay",this.overlay.style.cssText="height:"+d.y+"px; width: "+d.x+"px; top: -"+(d.y-t)/2+"px; left: -"+(d.x-e)/2+"px;",this.wrapper=document.createElement("div"),this.wrapper.id="the-wrapper",this.wrapper.className="zoomImg-wrap zoomImg-wrap--absolute",this.wrapper.appendChild(this.img),this.wrapper.appendChild(this.overlay),this.children[0].appendChild(this.wrapper),r=(d.x-p)/2-i-e/2,l=-1*s+(d.y-t)/2,n=1,t<o&&(t==e&&d.y>d.x?n=(d.x-m)/e:t==e&&d.y<d.x?n=(d.y-m)/t:e<t?(n=(d.y-m)/t)*e>d.x&&(n=(d.x-m)/e):t<e&&(n=(d.x-m)/e)*t>d.y&&(n=(d.y-m)/t)),a<n*e&&(n=a/e),h=this,setTimeout(function(){h.wrapper.style.cssText="transform: translate("+r+"px, "+l+"px) translateZ(0px);-webkit-transform: translate("+r+"px, "+l+"px) translateZ(0px);",h.img.style.cssText="transform: scale("+n+");-webkit-transform: scale("+n+")",h.overlay.className="zoomOverlay show"},0))}t&&(d={},m=(e=e||{}).margin||50,(e=document.createElement("div")).className="scrollbar-measure",document.body.appendChild(e),p=e.offsetWidth-e.clientWidth,document.body.removeChild(e),i(),window.addEventListener("resize",i),t=document.querySelectorAll(t),Array.prototype.forEach.call(t,function(t,e){t.addEventListener("click",s)}),window.addEventListener("scroll",function(){c&&c.click()}))}window.addEventListener("DOMContentLoaded",searchFn);