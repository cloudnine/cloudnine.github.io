var playerUrl=window.location.protocol+"//"+window.location.host+"/playlists/",bucket,bucket2,searchFn;function init(){$("#vimeoSelector").click(c9vimeoPlayer),$("#youtubeSelector").click(c9youtubePlayer),c9youtubePlayer(),c9vimeoPlayer()}$(init),bucket=[];function c9youtubePlayer(){$.getJSON(playerUrl+jsonPlaylists,function(e){var a,d,b,f,g,c;if(void 0!==bucket&&bucket.length)bucket.length&&(d=Math.floor(Math.random()*bucket.length),shuffle=bucket.splice(d,1)[0]);else{for(a=0;a<=Object.keys(e.playlists).length-1;a++)bucket.push(a);d=Math.floor(Math.random()*bucket.length),shuffle=bucket.splice(d,1)[0]}b={},b.ids=Array.from(e.playlists[shuffle].ids),b.playlist=e.playlists[shuffle].name,b.description=e.playlists[shuffle].description;for(a=b.ids.length-1;0<a;a--)f=Math.floor(Math.random()*(a+1)),g=b.ids[a],b.ids[a]=b.ids[f],b.ids[f]=g;for(c='<div class="mobile-iframe"><iframe width="360" height="180" src="https://www.youtube-nocookie.com/embed/VIDEO_ID?playlist=',a=0;a<b.ids.length;a++)c+=b.ids,a+1<b.ids.length&&(c+=", ");c+=';rel=0;modestbranding=1;iv_load_policy=3;showinfo=0" frameborder="0" loading="lazy" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"allowfullscreen></iframe></div> <!-- end mobile-iframe --><h6>'+b.description+"</h6>",$("#youtubeVids").html(c)})}bucket2=[];function c9vimeoPlayer(){$.getJSON(playerUrl+jsonVimeo,function(d){for(var a=0,c,b,e,g;a<=Object.keys(d.playlists).length-1;a++)bucket2.push(a);c=Math.floor(Math.random()*bucket2.length),shuffle=bucket2[c],b={},b.ids=Array.from(d.playlists[shuffle].ids),b.playlist=d.playlists[shuffle].name,b.description=d.playlists[shuffle].description;for(a=b.ids.length-1;0<a;a--)e=Math.floor(Math.random()*(a+1)),g=b.ids[a],b.ids[a]=b.ids[e],b.ids[e]=g;let f=[];for(a=0;a<=b.ids.length-1;a++)f.push(a);c=Math.floor(Math.random()*f.length),b.song=b.ids[c],c='<div class="mobile-iframe"><iframe src="https://player.vimeo.com/video/'+b.song+'" style="width:100%;height:100%;" loading="lazy" frameborder="0" allow="autoplay; fullscreen"></iframe></div><script src="https://player.vimeo.com/api/player.js"><\/script></div><h6>'+b.description+"</h6>",$("#vimeoVids").html(c)})}function randomVimeos3(){var a=Math.floor(50*Math.random()+1),b=window.location.protocol+"//"+window.location.host+"/playlists/";$("#vimeoVids").hide(1,function(){$("#vimeoVids").load(b+"vids.html #"+a)}),$("#vimeoVids").show(1)}function randomYoutubes(){var a=Math.floor(3*Math.random()+1),b=window.location.protocol+"//"+window.location.host+"/playlists/";$("#youtubeVids").hide(1,function(){$("#youtubeVids").load(b+"playlists.html #"+a)}),$("#youtubeVids").show(1)}"use strict";searchFn=function(){var f,h,g,d,c;function a(a){return g.innerHTML=a," "+g.value.trim().toLowerCase().replace(/[^0-9a-z ]/gi," ").replace(/\s+/g," ")+" "}function b(c,d,a){var b=0;return c.forEach(function(c){if(~a.indexOf(c.term))for(var e=a.indexOf(c.term);~e;)b+=c.weight*d,e=a.indexOf(c.term,e+1)}),b}function i(a){var e,d=[];c.index.forEach(function(c){var e;c.tags&&(e=0,a.forEach(function(a){c.title.startsWith(a.term)&&(e+=32*a.weight)}),e+=b(a,1,c.content),e+=b(a,2,c.description),e+=b(a,2,c.subtitle),c.tags.forEach(function(c){e+=b(a,4,c)}),(e+=b(a,16,c.title))&&d.push({weight:e,item:c}))}),d.length?(e=d.length+" items found.",30<d.length&&(e+=" Showing first 30 results."),$("#results").html('<p class="p-news" id="results-message">'+e+"</p>"),function(d){var b,a,c;d.sort(function(a,b){return b.weight-a.weight});for(b=0;b<d.length&&b<30;b+=1)a=d[b].item,c='<article class="post post-search-grid"><a class="title post-meta-styling post-search-image" href="'+a.permalink+'#article-title"alt="'+a.showTitle+'"><img src="'+a.showImage+'" alt="'+a.showTitle+'" class="search-img"></a><a  class="title post-meta-styling post-search-title" href="'+a.permalink+'#article-title"><div><h2>'+a.showTitle+'</h2></div></a><div class="ml-2 mb-2 mt-1 post-search-meta"><small><strong>Author:'+a.showAuthor+'</strong>&nbsp;|&nbsp;<i class="far fa-calendar-alt"></i>&nbsp;'+a.showDate,void 0!==a.showUpdate&&null!==a.showUpdate&&(c+='&nbsp;|&nbsp;<span class="update">Updated:&nbsp;</span>&nbsp;'+a.showUpdate),c+='</small></div><div class="post-search-summary">'+a.showSummary+'</div><a  class="post-search-continue"  href="'+a.permalink+'" role ="button">Continue Reading...</a><div class="post-search-data"></div></article>',$("#results").append(c)}(d)):$("#results").html('<p class="p-news" id="results-message">No items found.</p>')}function e(){var b,o,j,l,c,e,n,g,k,m;if(!d)if(b=a($("#searchBox").val()).trim(),b!==f){if((f=b).length<2)return $("#results").html('<p class="p-news" id="results-message">No items found.</p>'),$("#btnGo").attr("disabled",!0),0;$("#btnGo").removeAttr("disabled"),d=!0,o=new Date,$("#results").html('<p class="p-news" id="results-message">Processing search...</p>');for(j=b.split(" "),l=[],c=0;c<j.length;c+=1)for(e=c;e<j.length;e+=1){for(n=Math.pow(2,e-c),g="",k=c;k<=e;k+=1)g+=j[k]+" ";m=g.trim(),2<=m.length&&h.indexOf(m)<0&&l.push({weight:n,term:" "+g.trim()+" "})}i(l),d=!1,b=new Date,$("#results").append('<p class="p-news" id="results-message"><small>Search took '+(b-o)+"ms.</small></p>")}}f="You are likely to be eaten by a grue.",h=["i","me","my","we","our","you","it","its","this","that","am","is","are","was","be","has","had","do","a","an","the","but","if","or","as","of","at","by","for","with","to","then","no","not","so","too","can","and","but"],g=document.createElement("textarea"),d=!1,$("#searchBox").hide(),$("#btnGo").hide(),c={},$.getJSON("/index.json",function(d){c.index=[];var b={};d.forEach(function(d){var e,f;d.tags&&!b[d.permalink]&&((e={}).showTitle=d.title,e.showDescription=d.description,e.showDate=d.date,e.showSummary=d.summary,e.showAuthor=d.author,e.showUpdate=d.update,e.showImage=d.image,e.title=a(d.title),e.subtitle=a(d.subtitle),e.description=a(d.description),e.content=a(d.summary),f=[],d.tags.forEach(function(b){return f.push(a(b))}),e.tags=f,e.permalink=d.permalink,c.index.push(e),b[d.permalink]=!0)}),$("#loading").hide(),$("#btnGo").show(),$("#searchBox").show().removeAttr("disabled").focus(),$("#searchBox").keyup(function(){e()}),$("#btnGo").click(function(){e();var a=window.location.href.split("#")[0];a+="#resultsArea",window.location.href=a}),e()})};function MediumLightbox(d,b){var e,a,c,f;function g(){var d=window,b=document,e=b.documentElement,c=b.getElementsByTagName("body")[0],b=d.innerWidth||e.clientWidth||c.clientWidth,c=d.innerHeight||e.clientHeight||c.clientHeight;a.x=b,a.y=c}function h(){var g,b,m,n,i,l,j,k,h,d;this.isZoomed?(this.isZoomed=!this.isZoomed,e=null,this.img.style.cssText="",this.wrapper.style.cssText="",this.overlay.className="zoomOverlay",d=this,setTimeout(function(){d.children[0].appendChild(d.img),d.children[0].removeChild(d.wrapper);var a="zoomImg";d.img.classList?d.img.classList.remove(a):d.img.className=d.img.className.replace(new RegExp("(^|\\b)"+a.split(" ").join("|")+"(\\b|$)","gi")," ")},300)):(this.isZoomed=!this.isZoomed,(e=this).img||(this.img=this.getElementsByTagName("img")[0]),g=this.img.getBoundingClientRect().height,b=this.img.getBoundingClientRect().width,m=this.img.getBoundingClientRect().left,n=this.img.getBoundingClientRect().top,l=this.img.dataset?(i=this.img.dataset.width,this.img.dataset.height):(i=this.img.getAttribute("data-width"),this.img.getAttribute("data-height")),this.img.classList?this.img.classList.add("zoomImg"):this.img.className+=" zoomImg",this.overlay=document.createElement("div"),this.overlay.id="the-overlay",this.overlay.className="zoomOverlay",this.overlay.style.cssText="height:"+a.y+"px; width: "+a.x+"px; top: -"+(a.y-g)/2+"px; left: -"+(a.x-b)/2+"px;",this.wrapper=document.createElement("div"),this.wrapper.id="the-wrapper",this.wrapper.className="zoomImg-wrap zoomImg-wrap--absolute",this.wrapper.appendChild(this.img),this.wrapper.appendChild(this.overlay),this.children[0].appendChild(this.wrapper),j=(a.x-f)/2-m-b/2,k=-1*n+(a.y-g)/2,h=1,g<l&&(g==b&&a.y>a.x?h=(a.x-c)/b:g==b&&a.y<a.x?h=(a.y-c)/g:b<g?(h=(a.y-c)/g)*b>a.x&&(h=(a.x-c)/b):g<b&&(h=(a.x-c)/b)*g>a.y&&(h=(a.y-c)/g)),i<h*b&&(h=i/b),d=this,setTimeout(function(){d.wrapper.style.cssText="transform: translate("+j+"px, "+k+"px) translateZ(0px);-webkit-transform: translate("+j+"px, "+k+"px) translateZ(0px);",d.img.style.cssText="transform: scale("+h+");-webkit-transform: scale("+h+")",d.overlay.className="zoomOverlay show"},0))}d&&(a={},c=(b=b||{}).margin||50,(b=document.createElement("div")).className="scrollbar-measure",document.body.appendChild(b),f=b.offsetWidth-b.clientWidth,document.body.removeChild(b),g(),window.addEventListener("resize",g),d=document.querySelectorAll(d),Array.prototype.forEach.call(d,function(a,b){a.addEventListener("click",h)}),window.addEventListener("scroll",function(){e&&e.click()}))}window.addEventListener("DOMContentLoaded",searchFn)